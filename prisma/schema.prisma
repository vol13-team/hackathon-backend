// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}




model User {
  UserID     Int       @id @default(autoincrement())
  UserName   String
  created_at DateTime  @default(now())
  Update_at  DateTime  @updatedAt
  Issue      Issue[]
  Answer     Answer[]
}

model Issue {
  IssueID          Int       @id @default(autoincrement())
  IssueName        String
  IsuueDetail      String
  Visibility       Boolean
  Options          IssueOptions @relation(fields: [OptionsID], references: [OptionID])
  OptionsID        Int
  PostUser         User       @relation(fields: [PostUserID], references: [UserID])
  PostUserID       Int
  Tags             Tags[]     @relation(name: "IssueTags")
  IssueTagsID      Int?
  explanation      String?
  created_at       DateTime  @default(now())
  Update_at        DateTime  @updatedAt
  Article          Article?   @relation(fields: [IssueID], references: [ArticleID])
  Answer           Answer[]
}

model Article {
  ArticleID  Int       @id @default(autoincrement())
  ArticleTitle  String
  ArticleLink  String
  ArticleThumbnail  String?//?はnull許容
  Issue       Issue?
}

model Answer {
  AnswerID      Int      @id @default(autoincrement())
  Decision      Boolean
  Issue         Issue    @relation(fields: [IssueID], references: [IssueID])
  IssueID       Int
  AnserUser     User     @relation(fields: [AnserUserID], references: [UserID])
  AnserUserID   Int
  selectOption  IssueOptions @relation(fields: [selectOptionID], references: [OptionID])
  selectOptionID Int
}

model IssueOptions {
  OptionID         Int       @id @default(autoincrement())
  Option1          String
  Option2          String
  Option3          String
  Option4          String
  CorrectOption    Int
  Issue            Issue[]
  selectedAnswers  Answer[]
}

model Tags {
  TagID   Int      @id @default(autoincrement())
  TadName String
  Issue   Issue[]  @relation(name: "IssueTags")
}